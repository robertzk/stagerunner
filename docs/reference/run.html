<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Run the stages in a stageRunner object. — run • stagerunner</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">stagerunner</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run the stages in a stageRunner object.</h1>
    </div>

    
    <p>Run the stages in a stageRunner object.</p>
    

    <pre class="usage"><span class='fu'>run</span>(<span class='kw'>from</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>remember_flag</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"stagerunner.remember"</span>, <span class='fl'>TRUE</span>),
  <span class='kw'>mode</span> <span class='kw'>=</span> <span class='no'>self</span>$<span class='no'>.mode</span>, <span class='kw'>normalized</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>.depth</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>from</th>
      <td><p>an indexing parameter. Many forms are accepted, but the
easiest is the name of the stage. For example, if we have
<code>stageRunner$new(context, list(stage_one = some_fn, stage_two = some_other_fn))</code>
then using <code>run('stage_one')</code> will execute <code>some_fn</code>.
Additional indexing forms are logical (which stages to execute),
numeric (which stages to execute by indices), negative (all but the
given stages), character (as above), and nested forms of these.
The latter refers to instances of the following:
<code>stageRunner$new(context, list(stage_one =
  stageRunner$new(context, substage_one = some_fn, substage_two = other_fn),
  stage_two = another_fn))</code>.
Here, the following all execute only substage_two:
<code>run(list(list(FALSE, TRUE), FALSE))</code>,
<code>run(list(list(1, 2)))</code>,
<code>run('stage_one/substage_two')</code>,
<code>run('one/two')</code>,
Notice that substrings are allowed for characters.
The default is <code>NULL</code>, which runs the whole sequences of stages.</p></td>
    </tr>
    <tr>
      <th>to</th>
      <td><p>an indexing parameter. If <code>from</code> refers to a single stage,
attempt to run from that stage to this stage (or, if this one comes first,
this stage to that stage). For example, if we have
   <code>stages = list(a = list(b = 1, c = 2), d = 3, e = list(f = 4, g = 5))</code>
where the numbers are some functions, and we call <code>run</code> with
<code>from = 'a/c'</code> and <code>to = 'e/f'</code>, then we would execute
stages <code>"a/c", "d", "e/f"</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical. Whether or not to display pretty colored text
informing about stage progress.
nested list of logicals.</p></td>
    </tr>
    <tr>
      <th>remember_flag</th>
      <td><p>logical. An internal argument used by <code>run</code>
recursively if the <code>stageRunner</code> object has the <code>remember</code>
field set to <code>TRUE</code>. If <code>remember_flag</code> is FALSE, <code>run</code>
will not attempt to restore the context from cache (e.g., if we are
executing five stages simultaneously with <code>remember = TRUE</code>,
the first stage's context should be restored from cache but none
of the remaining stages should).</p></td>
    </tr>
    <tr>
      <th>mode</th>
      <td><p>character. If <code>mode = 'head'</code>, then by default the
<code>from</code> parameter will be used to execute that stage and that
stage only. If <code>mode = 'next'</code>, then the <code>from</code> parameter
will be used to run (by default, if <code>to</code> is left missing)
from the last successfully executed stage to the stage given by
<code>from</code>. If <code>from</code> occurs before the last successfully
executed stage (say S), the stages will be run from <code>from</code> to S.</p></td>
    </tr>
    <tr>
      <th>normalized</th>
      <td><p>logical. A convenience recursion performance helper. If
<code>TRUE</code>, stageRunner will assume the <code>from</code> argument is a
nested list of logicals.</p></td>
    </tr>
    <tr>
      <th>.depth</th>
      <td><p>integer. Internal parameter for keeping track of nested
execution depth.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Any additional arguments to delegate to the <code>stageRunnerNode</code>
object that will execute its own <code>run</code> method.
(See <code>stageRunnerNode$run</code>)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>TRUE or FALSE according as running the stages specified by the
  <code>from</code> and <code>to</code> keys succeeded or failed. If
  <code>remember = TRUE</code>, this will instead be a list of the environment
  before and after executing the aforementioned stages. (This allows
  comparing what changes were made to the <code>context</code> during the
  execution of the stageRunner.)</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>env</span> <span class='kw'>&lt;-</span> <span class='fu'>new.env</span>()
<span class='no'>some_fn</span>    <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>e</span>) <span class='no'>e</span>$<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>
<span class='no'>other_fn</span>   <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>e</span>) <span class='no'>e</span>$<span class='no'>y</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>
<span class='no'>another_fn</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>e</span>) <span class='no'>e</span>$<span class='no'>z</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>
<span class='no'>sr</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stagerunner.html'>stagerunner</a></span>(<span class='no'>env</span>, <span class='fu'>list</span>(<span class='kw'>stage_one</span> <span class='kw'>=</span>
 <span class='fu'><a href='stagerunner.html'>stagerunner</a></span>(<span class='no'>env</span>, <span class='fu'>list</span>(<span class='kw'>substage_one</span> <span class='kw'>=</span> <span class='no'>some_fn</span>, <span class='kw'>substage_two</span> <span class='kw'>=</span> <span class='no'>other_fn</span>)),
 <span class='kw'>stage_two</span> <span class='kw'>=</span> <span class='no'>another_fn</span>))

<span class='co'># Here, the following all execute only substage_two:</span>

<span class='no'>sr</span>$<span class='fu'>run</span>(<span class='fu'>list</span>(<span class='fu'>list</span>(<span class='fl'>FALSE</span>, <span class='fl'>TRUE</span>), <span class='fl'>FALSE</span>))
<span class='no'>sr</span>$<span class='fu'>run</span>(<span class='fu'>list</span>(<span class='fu'>list</span>(<span class='fl'>1</span>, <span class='fl'>2</span>)))
<span class='no'>sr</span>$<span class='fu'>run</span>(<span class='st'>'stage_one/substage_two'</span>)
<span class='no'>sr</span>$<span class='fu'>run</span>(<span class='st'>'one/two'</span>)
<span class='fu'>stopifnot</span>(<span class='fu'>is.null</span>(<span class='no'>env</span>$<span class='no'>z</span>), <span class='fu'>is.null</span>(<span class='no'>env</span>$<span class='no'>x</span>), <span class='fu'>identical</span>(<span class='no'>env</span>$<span class='no'>y</span>, <span class='fl'>1</span>))

<span class='co'># This will execute all but "stage_one" (i.e., only "stage_two")</span>
<span class='no'>sr</span>$<span class='fu'>run</span>(-<span class='fl'>1</span>)
<span class='fu'>stopifnot</span>(<span class='fu'>identical</span>(<span class='no'>env</span>$<span class='no'>z</span>, <span class='fl'>1</span>))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Robert Krzyzanowski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
